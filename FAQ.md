# 常见问题 FAQ

本文档收集了用户在使用 InkRoot 时经常遇到的问题和解决方案。

## 📋 目录

- [安装相关](#安装相关)
- [登录与注册](#登录与注册)
- [服务器配置](#服务器配置)
- [同步问题](#同步问题)
- [功能使用](#功能使用)
- [通知提醒](#通知提醒)
- [图片上传](#图片上传)
- [性能问题](#性能问题)
- [Android 特定问题](#android-特定问题)
- [iOS 特定问题](#ios-特定问题)
- [开发相关](#开发相关)

---

## 安装相关

### Q1: 在哪里可以下载 InkRoot？

**A:** 有以下几种方式：

1. **官方网站**: 访问 [https://inkroot.cn](https://inkroot.cn) 下载
2. **GitHub Releases**: [https://github.com/yyyyymmmmm/IntRoot/releases](https://github.com/yyyyymmmmm/IntRoot/releases)
3. **应用商店**: 即将上架各大应用商店

### Q2: Android 安装时提示"未知来源"怎么办？

**A:** 这是正常的安全提示，请按以下步骤操作：

1. 设置 > 安全 > 允许安装未知应用
2. 找到"文件管理器"或"浏览器"
3. 开启"允许此来源"
4. 返回继续安装

### Q3: iOS 如何安装 IPA 文件？

**A:** iOS 安装方式：

1. **通过 TestFlight**（推荐）
   - 等待开发者邀请
   - 安装 TestFlight 应用
   - 点击邀请链接安装

2. **通过签名工具**
   - 使用 AltStore / Sideloadly 等工具
   - 需要 Apple ID
   - 免费账号 7 天需重签一次

### Q4: 应用占用空间太大怎么办？

**A:** 优化建议：

1. **清理缓存**: 设置 > 数据清理 > 清除图片缓存
2. **删除旧笔记**: 删除不需要的笔记和图片
3. **重新安装**: 卸载后重新安装可以清理所有本地数据

---

## 登录与注册

### Q5: 需要注册账号吗？必须连接服务器吗？

**A:** **不是必须的！InkRoot 支持两种使用模式：**

#### 模式一：本地模式（无需服务器）✨
- **完全离线使用**：所有数据存储在本地
- **无需注册账号**：直接使用所有功能
- **隐私保护**：数据完全本地化
- **适合场景**：个人笔记、不需要多设备同步

**本地模式支持的功能：**
- ✅ 创建、编辑、删除笔记
- ✅ Markdown 语法支持
- ✅ 本地图片管理
- ✅ 标签分类
- ✅ 全文搜索
- ✅ 语音识别（需要联网）
- ✅ 定时提醒
- ✅ 本地引用（笔记间链接）
- ✅ 导入导出

#### 模式二：云端同步模式（可选）☁️
- **多设备同步**：数据在多设备间同步
- **需要 Memos 服务器**：自建或使用演示服务器
- **需要注册账号**：在服务器上注册
- **适合场景**：多设备使用、团队协作

**选择建议：**
- 💡 **个人使用**：推荐先用本地模式，需要同步时再配置服务器
- 💡 **多设备**：推荐云端同步模式
- 💡 **团队协作**：必须使用云端同步模式

### Q6: 如何配置服务器地址？

**A:** 配置步骤：

1. 打开应用后进入"设置" > "服务器信息"
2. 输入你的 Memos 服务器地址
   - 格式：`http://your-domain.com:5230` 或 `https://your-domain.com`
3. 点击"保存"
4. 返回登录页面注册或登录

### Q7: 可以使用官方演示服务器吗？

**A:** 可以用于测试，但不建议长期使用：

```
服务器地址: https://memos.didichou.site
注意：演示服务器数据可能会定期清理
建议：搭建自己的 Memos 服务器
```

### Q8: 忘记密码怎么办？

**A:** 解决方案：

1. **有服务器管理权限**: 可以在 Memos 后台重置密码
2. **无服务器管理权限**: 需要联系服务器管理员重置
3. **使用演示服务器**: 只能重新注册新账号

### Q9: 可以更换服务器吗？

**A:** 可以，但需要注意：

1. 设置 > 服务器信息 > 修改服务器地址
2. 修改后需要重新登录
3. **原服务器的本地数据会被清空**
4. 建议先导出数据再切换服务器

---

## 服务器配置

### Q10: 如何搭建自己的 Memos 服务器？

**A:** ⚠️ **重要：InkRoot 需要 Memos v0.21.0 或更高版本**

推荐使用 Docker：

```bash
# 方式一：使用 Docker（推荐）
# 指定版本 0.21.0 或更高
docker run -d \
  --name memos \
  --publish 5230:5230 \
  --volume ~/.memos/:/var/opt/memos \
  neosmemo/memos:0.21.0
  
# 或使用最新稳定版（确保 >= 0.21.0）
docker run -d \
  --name memos \
  --publish 5230:5230 \
  --volume ~/.memos/:/var/opt/memos \
  neosmemo/memos:stable

# 方式二：使用 Docker Compose
# 创建 docker-compose.yml
version: '3.8'
services:
  memos:
    image: neosmemo/memos:0.21.0  # 指定版本
    container_name: memos
    ports:
      - "5230:5230"
    volumes:
      - ~/.memos/:/var/opt/memos
    restart: unless-stopped
```

**版本检查：**
```bash
# 启动后检查版本
curl http://localhost:5230/api/v1/status
```

详细教程：[Memos 官方文档](https://usememos.com)

**版本要求说明：**
- **最低版本**：v0.21.0
- **推荐版本**：v0.21.0 或更高
- **API 版本**：v1
- **不支持**：v0.20.x 及以下版本（API 不兼容）

### Q11: Memos 服务器最低配置要求是什么？

**A:** 最低配置：

- **CPU**: 1 核
- **内存**: 512 MB
- **存储**: 10 GB
- **带宽**: 1 Mbps

推荐配置：

- **CPU**: 2 核
- **内存**: 2 GB
- **存储**: 50 GB SSD
- **带宽**: 5 Mbps

### Q12: 服务器地址填写格式有什么要求？

**A:** 地址格式规范：

✅ **正确格式：**
```
http://192.168.1.100:5230
https://memos.example.com
https://example.com/memos
```

❌ **错误格式：**
```
192.168.1.100:5230  # 缺少协议
http://example.com:5230/  # 末尾不要斜杠
http://example.com/api/v1  # 不要包含 API 路径
```

### Q13: 如何配置 HTTPS？

**A:** 使用 Nginx 反向代理：

```nginx
server {
    listen 443 ssl http2;
    server_name memos.example.com;
    
    ssl_certificate /path/to/cert.pem;
    ssl_certificate_key /path/to/key.pem;
    
    location / {
        proxy_pass http://localhost:5230;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

推荐使用 Let's Encrypt 免费证书。

---

## 同步问题

### Q14: 笔记没有同步怎么办？

**A:** 排查步骤：

1. **检查网络连接**
   - 确保设备联网
   - 检查服务器是否可访问

2. **手动触发同步**
   - 下拉刷新笔记列表
   - 或者进入设置 > 数据同步

3. **检查登录状态**
   - 确认没有被登出
   - 重新登录试试

4. **查看同步日志**
   - 设置 > 实验室 > 查看日志

### Q15: 同步速度很慢怎么办？

**A:** 优化建议：

1. **使用增量同步**: 设置 > 同步设置 > 开启增量同步
2. **减少同步频率**: 设置更长的同步间隔
3. **优化服务器**: 
   - 使用 SSD 硬盘
   - 增加服务器带宽
   - 使用 CDN 加速图片

### Q16: 多设备同步会有冲突吗？

**A:** InkRoot 使用服务器时间戳作为准：

- **编辑同一笔记**: 后保存的版本会覆盖
- **建议**: 在一台设备上完成编辑后再切换
- **即将支持**: 冲突检测和合并功能

### Q17: 离线编辑的笔记会丢失吗？

**A:** 不会丢失：

1. 离线编辑会保存在本地数据库
2. 联网后会自动同步到服务器
3. 如果同步失败，会保留在本地
4. 可以在"同步失败"列表中查看和重试

---

## 功能使用

### Q18: 如何使用 Markdown 语法？

**A:** InkRoot 支持完整的 Markdown 语法，包括扩展语法：

#### 基础语法

```markdown
# 标题
## 二级标题

**粗体** *斜体* ~~删除线~~

- 无序列表
- 列表项

1. 有序列表
2. 列表项

[链接](https://example.com)
![图片](image.jpg)

`行内代码`

​```javascript
// 代码块（支持语法高亮）
console.log('Hello World');
​```

- [ ] 待办事项
- [x] 已完成事项

> 引用文本

| 表格 | 列 |
|------|-----|
| 内容 | 内容 |
```

#### 🌟 特色功能（亮点）

**1. 笔记引用（本地引用）**
```markdown
参考之前的笔记：[[笔记标题]]
或使用笔记ID：[[#123]]
```
- 自动创建笔记间的双向链接
- 点击引用可以快速跳转
- 支持反向链接查看

**2. 标签系统**
```markdown
今天天气不错 #生活 #日记
学习笔记 #编程 #Flutter
```
- 使用 `#标签名` 自动创建标签
- 支持多个标签
- 可以按标签筛选笔记

**3. 图片支持**
```markdown
![图片描述](image.jpg)
```
- 支持本地图片上传
- 自动压缩优化
- 图片缓存加速
- 支持拖拽上传（部分平台）

**4. 代码高亮**
```markdown
​```python
def hello():
    print("Hello, World!")
​```
```
- 支持多种编程语言
- 自动语法高亮
- 代码块复制功能

### Q19: 如何添加标签？

**A:** 三种方式：

1. **在笔记中使用 #标签名**
   ```
   今天天气不错 #生活 #日记
   ```

2. **点击标签按钮添加**
   - 编辑笔记时点击标签图标
   - 选择已有标签或创建新标签

3. **标签管理**
   - 设置 > 标签管理
   - 可以修改和删除标签

### Q20: 如何搜索笔记？

**A:** 搜索功能：

1. **全文搜索**: 首页顶部搜索框
2. **标签筛选**: 点击标签查看相关笔记
3. **日期筛选**: 按创建/修改日期筛选
4. **高级搜索**（开发中）:
   - 正则表达式搜索
   - 多条件组合搜索

### Q21: 如何导出笔记？

**A:** 导出步骤：

1. 设置 > 导入/导出
2. 选择导出格式：
   - **JSON**: 包含所有元数据
   - **Markdown**: 纯文本格式
3. 选择导出位置
4. 点击"导出"

支持批量导出和单个导出。

### Q22: 语音识别不准确怎么办？

**A:** 改善建议：

1. **确保环境安静**: 减少背景噪音
2. **清晰发音**: 说话速度适中
3. **检查权限**: 确认麦克风权限已开启
4. **网络问题**: 语音识别需要联网
5. **更换引擎**: 设置中可以切换识别引擎

---

## 通知提醒

### Q23: 为什么收不到通知？

**A:** Android 排查步骤：

1. **检查应用通知权限**
   - 设置 > 应用 > InkRoot > 通知 > 开启

2. **检查系统通知设置**
   - 确保通知没有被屏蔽

3. **检查省电模式**
   - 关闭省电模式或将应用加入白名单

4. **检查后台运行权限**
   - 允许应用后台运行

5. **小米/华为/OPPO 设备**
   - 需要额外设置自启动权限
   - 锁定应用在后台

**iOS 排查步骤：**

1. 设置 > 通知 > InkRoot > 开启允许通知
2. 检查是否开启了勿扰模式
3. 检查专注模式设置

### Q24: 定时提醒不准时怎么办？

**A:** 优化方法：

**Android:**
1. 设置 > 应用 > InkRoot > 电池 > 无限制
2. 关闭电池优化
3. 在开发者选项中关闭"强制后台限制"
4. **Android 12+**: 需要授予"精确闹钟"权限

**iOS:**
1. 设置 > 通用 > 后台 App 刷新 > 开启 InkRoot
2. 确保未开启低电量模式

### Q25: 通知图标显示异常？

**A:** iOS 特殊问题：

- **首次安装可能显示默认图标**
- **解决方案**: 重启设备清理系统缓存
- 这是 iOS 系统的缓存机制导致的
- 重启后会正常显示应用图标

---

## 图片上传

### Q26: 图片上传失败怎么办？

**A:** 检查清单：

1. **文件大小**: 确保图片不超过 10MB
2. **文件格式**: 支持 JPG, PNG, GIF, WebP
3. **网络连接**: 检查网络是否正常
4. **服务器空间**: 确认服务器有足够存储空间
5. **权限问题**: 检查相册/相机权限

### Q27: 如何压缩图片？

**A:** 自动压缩：

- 应用会自动压缩大于 2MB 的图片
- 设置 > 图片设置 > 调整压缩质量
- 推荐设置: 80-85%（质量与大小平衡）

手动压缩：
- 上传前使用第三方工具压缩
- 推荐: TinyPNG, ImageOptim

### Q28: 图片加载很慢怎么办？

**A:** 优化方案：

1. **清理图片缓存**: 设置 > 数据清理 > 清除图片缓存
2. **降低图片质量**: 设置 > 图片设置 > 降低显示质量
3. **使用 CDN**: 在服务器端配置 CDN 加速
4. **预加载设置**: 设置 > 性能设置 > 开启图片预加载

---

## 性能问题

### Q29: 应用启动慢怎么办？

**A:** 优化建议：

1. **清理缓存**: 设置 > 数据清理 > 清除缓存
2. **减少本地数据**: 定期清理旧笔记
3. **重新安装**: 完全卸载后重新安装
4. **检查存储空间**: 确保设备有足够存储空间

### Q30: 应用卡顿怎么办？

**A:** 排查步骤：

1. **检查内存占用**: 关闭其他应用
2. **降低动画效果**: 设置 > 显示 > 减少动画
3. **关闭实时同步**: 改为手动同步
4. **更新到最新版本**: 新版本通常有性能优化

### Q31: 应用耗电太快？

**A:** 省电设置：

1. **关闭实时同步**: 改为手动或定时同步
2. **减少同步频率**: 延长同步间隔
3. **关闭通知**: 关闭不必要的通知
4. **降低刷新率**: 设置 > 显示 > 降低刷新频率

---

## Android 特定问题

### Q32: 小米手机通知不显示？

**A:** 小米特殊设置：

1. 设置 > 应用设置 > 应用管理 > InkRoot
2. 自启动 > 开启
3. 省电策略 > 无限制
4. 锁定应用（后台不清理）
5. 通知管理 > 开启所有通知权限

### Q33: 华为手机后台被杀？

**A:** 华为特殊设置：

1. 设置 > 应用 > 应用启动管理 > InkRoot
2. 关闭"自动管理"
3. 手动设置:
   - 自动启动：开启
   - 后台活动：允许
   - 屏幕关闭后继续运行：允许

### Q34: OPPO/Vivo 手机问题？

**A:** ColorOS/OriginOS 设置：

1. 设置 > 电池 > 应用耗电管理 > InkRoot
2. 后台冻结：关闭
3. 自启动：开启
4. 允许后台运行

### Q35: Android 12+ 精确闹钟权限？

**A:** 授予精确闹钟权限：

1. 设置 > 应用 > 特殊应用权限
2. 闹钟和提醒 > InkRoot > 允许
3. 这样才能保证定时提醒准时触发

---

## iOS 特定问题

### Q36: iOS 照片权限问题？

**A:** 权限设置：

1. 设置 > InkRoot > 照片
2. 选择"所有照片"或"选定的照片"
3. 建议选择"所有照片"以获得最佳体验

### Q37: iOS TestFlight 安装失败？

**A:** 常见原因：

1. **Apple ID 地区不对**: 需要和开发者地区一致
2. **TestFlight 版本过旧**: 更新 TestFlight 应用
3. **设备不兼容**: 确认 iOS 版本是否满足要求
4. **名额已满**: 等待开发者增加名额

### Q38: iOS 应用闪退？

**A:** 解决方案：

1. **重启应用**: 强制关闭后重新打开
2. **重启设备**: 重启 iPhone
3. **重新安装**: 删除后重新安装
4. **检查系统更新**: 更新到最新 iOS 版本
5. **清理存储空间**: 确保有至少 2GB 可用空间

---

## 开发相关

### Q39: 如何从源码构建？

**A:** 构建步骤：

```bash
# 1. 克隆仓库
git clone https://github.com/yyyyymmmmm/IntRoot.git
cd IntRoot

# 2. 安装依赖
flutter pub get

# 3. 构建 Android
flutter build apk --split-per-abi --release

# 4. 构建 iOS
cd ios && pod install && cd ..
flutter build ios --release
```

详细教程: 查看 [BUILD.md](BUILD.md)

### Q40: 开发环境配置问题？

**A:** 参考文档：

- **Android 环境**: 查看 [README.md - 开发环境要求](README.md#开发环境要求)
- **iOS 环境**: 查看 [BUILD.md - iOS 构建](BUILD.md#ios-构建)
- **常见问题**: 查看 [BUILD.md - 常见问题](BUILD.md#常见问题)

### Q41: 如何贡献代码？

**A:** 贡献流程：

1. Fork 项目到你的 GitHub
2. 创建特性分支：`git checkout -b feature/amazing-feature`
3. 提交改动：`git commit -m 'feat: 添加某功能'`
4. 推送分支：`git push origin feature/amazing-feature`
5. 创建 Pull Request

详细指南: [CONTRIBUTING.md](CONTRIBUTING.md)

---

## 其他问题

### Q42: 数据安全吗？

**A:** 安全保障：

1. **数据私有**: 所有数据存储在你自己的服务器
2. **传输加密**: 支持 HTTPS 加密传输
3. **本地加密**: 敏感信息使用安全存储
4. **无第三方**: 不会上传数据到第三方服务器

### Q43: 会收集用户数据吗？

**A:** 隐私承诺：

- ❌ 不收集个人信息
- ❌ 不收集笔记内容
- ❌ 不收集设备信息（除非崩溃报告）
- ✅ 完全开源，代码可审查
- ✅ 数据完全由你控制

### Q44: 应用是否免费？

**A:** 免费开源：

- ✅ 完全免费使用
- ✅ 开源 MIT 许可证
- ✅ 无内购、无广告
- ✅ 所有功能免费

### Q45: 如何获取帮助？

**A:** 获取帮助的方式：

1. **查看文档**: 
   - [README.md](README.md)
   - [BUILD.md](BUILD.md)
   - [FAQ.md](FAQ.md)（本文档）

2. **提交问题**: 
   - [GitHub Issues](https://github.com/yyyyymmmmm/IntRoot/issues)

3. **参与讨论**: 
   - [GitHub Discussions](https://github.com/yyyyymmmmm/IntRoot/discussions)

4. **联系开发者**: 
   - 邮箱: [sdwxgzh@126.com](mailto:sdwxgzh@126.com)
   - 官网: [https://inkroot.cn](https://inkroot.cn)

---

## 💡 更多问题？

如果你的问题没有在这里找到答案：

1. **搜索 Issues**: 在 [GitHub Issues](https://github.com/yyyyymmmmm/IntRoot/issues) 中搜索
2. **创建新 Issue**: 如果没有找到，创建新的 Issue
3. **加入讨论**: 在 [Discussions](https://github.com/yyyyymmmmm/IntRoot/discussions) 中提问
4. **发送邮件**: 发送到 [sdwxgzh@126.com](mailto:sdwxgzh@126.com)

我们会持续更新这个 FAQ 文档！

---

**文档更新日期**: 2025-10-06

**InkRoot** - 让笔记更简单 ✨

