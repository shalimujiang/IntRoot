# 更新日志

所有重要的项目变更都将记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
版本号遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

---

## [1.0.3] - 2025-10-06

### 🎉 新增 (Added)
- ✨ 更新到 Flutter 3.35.5，支持最新特性
- ✨ 优化 APK 构建配置，支持按架构分别构建
  - arm64-v8a: ~24.4 MB
  - armeabi-v7a: ~22.6 MB
  - x86_64: ~25.6 MB
- ✨ 更新主题系统，完全适配 Material Design 3
- ✨ 新增完整的 README.md 文档
- ✨ 新增 CHANGELOG.md 更新日志

### 🔧 优化 (Changed)
- 🔧 修复头像加载问题，提升显示稳定性
- 🔧 优化图片缓存机制，减少内存占用
- 🔧 改进网络请求错误处理，提供更友好的错误提示
- 🔧 更新依赖包到兼容版本：
  - `intl`: 0.19.0 → 0.20.2
  - `speech_to_text`: 6.6.0 → 7.3.0
  - `leak_tracker`: 10.0.9 → 11.0.2
  - `test_api`: 0.7.4 → 0.7.6
  - `vector_math`: 2.1.4 → 2.2.0

### 🐛 修复 (Fixed)
- 🐛 修复 Flutter 3.35.5 API 变更导致的编译错误
  - `CardTheme` → `CardThemeData`
  - `DialogTheme` → `DialogThemeData`
  - `TabBarTheme` → `TabBarThemeData`
- 🐛 修复部分 Android 设备通知不显示的问题
- 🐛 修复语音识别在某些设备上崩溃的问题
- 🐛 修复深色模式下部分文字看不清的问题
- 🐛 修复 `speech_to_text` 插件在新版 Android 上的兼容性问题

### 📝 文档 (Documentation)
- 📝 完善 README.md，新增详细的项目架构说明
- 📝 新增 API 接口文档
- 📝 新增贡献指南
- 📝 新增开发环境配置说明
- 📝 新增构建部署说明

### 🔐 安全 (Security)
- 🔐 更新依赖包，修复已知安全漏洞

---

## [1.0.2] - 2025-09-30

### 🆕 新增 (Added)
- 🏢 实验室新增企业微信对接功能
  - 支持企业微信通知推送
  - 支持企业微信扫码登录（开发中）
- 📊 新增笔记统计功能
  - 总笔记数统计
  - 总字数统计
  - 本月新增笔记统计
- 🎲 新增随机回顾功能
  - 随机抽取历史笔记
  - 支持按标签筛选随机范围
- 📌 新增本地引用功能（实验性）
  - 笔记间双向链接
  - 引用关系可视化

### 🔧 优化 (Changed)
- 🔧 修复头像加载问题
  - 优化头像缓存策略
  - 支持默认头像占位符
  - 修复头像更新不及时的问题
- 🔧 优化笔记列表加载性能
  - 实现虚拟滚动
  - 延迟加载图片
  - 优化数据库查询
- 🔧 改进同步机制
  - 实现增量同步
  - 减少不必要的网络请求
  - 优化同步冲突处理

### 🐛 修复 (Fixed)
- 🐛 修复部分已知 Bug
- 🐛 修复部分 iOS 设备闪退问题
  - 修复内存溢出导致的崩溃
  - 修复后台刷新导致的崩溃
- 🐛 修复标签筛选失效的问题
- 🐛 修复笔记搜索结果不准确的问题
- 🐛 修复通知点击无法跳转到对应笔记的问题

### 🎨 界面 (UI)
- 🎨 优化设置页面布局
- 🎨 改进笔记详情页的交互体验
- 🎨 优化深色模式的颜色对比度

---

## [1.0.1] - 2025-09-20

### 🎉 首次正式发布 (Initial Release)

#### ✨ 核心功能
- 📝 完整的笔记管理功能
  - 创建、编辑、删除笔记
  - Markdown 语法支持
  - 代码高亮
  - 任务列表
- 📱 Android 和 iOS 双平台支持
  - iOS 13.0+
  - Android 6.0 (API 23)+
- 🔄 Memos 服务器同步
  - 实时同步
  - 离线编辑
  - 冲突处理
- 🎤 语音识别功能
  - 实时语音转文字
  - 多语言支持（中文、英文）
  - 连续识别模式
- 🏷️ 标签系统
  - 自定义标签
  - 标签筛选
  - 标签管理
- ⏰ 定时提醒
  - 自定义提醒时间
  - 循环提醒
  - 通知点击跳转
- 🌓 深色模式
  - 自动切换
  - 手动切换
  - 跟随系统

#### 🖼️ 图片功能
- 📷 相机拍照
- 🖼️ 相册选择
- ✂️ 图片裁剪
- 🗜️ 图片压缩
- 📤 图片上传到服务器
- 👁️ 图片预览

#### 🔍 搜索功能
- 🔎 全文搜索
- 🏷️ 标签搜索
- 📅 日期筛选
- 🔀 排序选项（时间、标题）

#### 📤 导入导出
- 📄 JSON 格式导出
- 📝 Markdown 格式导出
- 📥 数据导入
- 💾 本地备份

#### ⚙️ 设置功能
- 🌐 服务器配置
- 👤 账户管理
- 🔔 通知设置
- 🎨 主题切换
- 🗑️ 数据清理
- ℹ️ 关于页面

#### 🛠️ 技术特性
- 🎯 Provider 状态管理
- 🗄️ SQLite 本地数据库
- 🔐 安全存储（flutter_secure_storage）
- 🌐 HTTP 网络请求
- 🎨 Material Design 3
- 📍 GoRouter 路由管理

---

## [Unreleased] - 开发中

### 🚀 计划新增 (Planned)
- [ ] 📱 平板适配
- [ ] 🌍 多语言支持（英文、日文）
- [ ] 📊 数据可视化
- [ ] 🔗 笔记分享功能
- [ ] 🎨 自定义主题颜色
- [ ] 📁 文件夹功能
- [ ] 🔍 高级搜索（正则表达式）
- [ ] 📎 附件支持（PDF、音频、视频）
- [ ] 🔒 笔记加密
- [ ] 👥 协作功能
- [ ] 🌐 WebDAV 同步支持
- [ ] 📱 Widget 小部件（iOS/Android）
- [ ] ⌚ Apple Watch 支持
- [ ] 🖥️ macOS / Windows 桌面版
- [ ] 🌐 Web 版本

### 🔧 计划优化 (Planned Improvements)
- [ ] 提升应用启动速度
- [ ] 优化内存占用
- [ ] 改进图片加载性能
- [ ] 优化搜索算法
- [ ] 改进同步机制
- [ ] 增强离线功能

### 🐛 已知问题 (Known Issues)
- ⚠️ iOS 首次安装后通知图标可能显示为默认图标（需要重启设备）
- ⚠️ 部分小米设备需要手动授予精确闹钟权限
- ⚠️ Android 12+ 可能需要手动授予后台限制权限才能正常接收提醒

---

## 版本号说明

版本格式：`主版本号.次版本号.修订号`

- **主版本号**：重大功能更新，可能包含不兼容的 API 变更
- **次版本号**：新增功能，向下兼容
- **修订号**：Bug 修复，向下兼容

---

## 更新类型说明

- 🎉 **新增 (Added)** - 新功能
- 🔧 **优化 (Changed)** - 已有功能的变更
- ⚠️ **弃用 (Deprecated)** - 即将移除的功能
- ❌ **移除 (Removed)** - 已移除的功能
- 🐛 **修复 (Fixed)** - Bug 修复
- 🔐 **安全 (Security)** - 安全相关的修复

---

## 联系方式

如有问题或建议，请通过以下方式联系我们：

- **GitHub Issues**: https://github.com/yyyyymmmmm/IntRoot/issues
- **邮箱**: sdwxgzh@126.com
- **官网**: https://inkroot.cn

---

**感谢使用 InkRoot！** ❤️

